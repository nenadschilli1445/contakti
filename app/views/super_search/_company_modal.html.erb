<div class="modal-dialog contact-card-modal-dialog" style="width: 800px">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
      <h3 class="modal-title"><%= t('user_dashboard.customer_modal.customer_card') %></h3>
    </div>
    <div class="modal-body">
      <div class="innerLR">
        <!-- Widget -->
        <div class="widget widget-tabs border-bottom-none">
          <!-- Widget heading -->
          <div class="widget-head">
            <ul>
              <li class="active"><a class="glyphicons home" href="#account-settings"
                                    data-toggle="tab"><i></i><%= t('user_dashboard.customer_modal.customer_details') %></a>
              </li>
              <!-- ko if: customer() && customer().id -->
              <li><a class="glyphicons edit" href="#account-tasks-tab"
                     data-toggle="tab"><i></i><%= t('user_dashboard.customer_modal.open_tickets') %></a>
                <!-- /ko -->
              </li>
              <!-- ko if: customer() && customer().id -->
              <li><a class="glyphicons tag" href="#account-ready-tasks-tab"
                     data-toggle="tab"><i></i><%= t('user_dashboard.customer_modal.task_history') %></a>
              </li>
              <!-- /ko -->
            </ul>
          </div>
          <!-- // Widget heading END -->
          <div class="widget-body">
            <div class="tab-content">


              <!-- Tab content -->
              <div class="tab-pane" id="account-tasks-tab">
                <!-- Row -->
                <div class="row customer-tasks-container"
                     id="customer-tasks-container">
                  <div class="col-md-3">
                    <strong><%= t('user_dashboard.customer_modal.open_tickets') %></strong>
                  </div>
                  <br><br>
                  <div class="widget-body padding-none ">
                    <ul class="timeline-activity list-unstyled customer-tasks-list"
                        id="customer-tasks-list"
                        data-bind="foreach: customerTasks">
                      <li class="" data-bind="template: {name: 'customer_modal_task_list_item_template'}"></li>
                    </ul>
                  </div>
                  <!-- // Widget Body END -->

                </div>
                <!-- // Row END -->
                <div class="separator line bottom"></div>
                <div data-bind="template: {name:'customer_task_note_form_template'}"></div>
              </div>
              <!-- // Tab content END -->


              <!-- Tab content -->
              <div class="tab-pane active" id="account-settings">
                <%= simple_form_for Customer.new,
                                    url: '/customers',
                                    remote: true,
                                    html: {class: 'form-horizontal'} do |f| %>
                  <%= f.hidden_field :id, 'data-bind' => 'value: customerSafe().id' %>
                  <div class="row">
                    <div class="col-md-3">
                      <strong><%= t('user_dashboard.customer_modal.customer') %></strong>
                    </div>
                    <div class="col-md-9">
                      <div class="row">
                        <div class="col-md-6">
                          <label><%= t('user_dashboard.customer_modal.customer_name') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-building-o"></i></span>
                            <%= f.text_field :name,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().name' %>
                          </div>
                          <div class="separator bottom"></div>
                          <label><%= t('user_dashboard.customer_modal.address') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-street-view"></i></span>
                            <%= f.text_field :address,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().address' %>
                          </div>
                          <div class="separator bottom"></div>
                          <label><%= t('user_dashboard.customer_modal.city') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-university"></i> </span>
                            <%= f.text_field :city,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().city' %>
                          </div>
                          <div class="separator bottom"></div>
                        </div>
                        <div class="col-md-6">
                          <label><%= t('user_dashboard.customer_modal.vat') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-book"></i></span>
                            <%= f.text_field :vat,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().vat' %>
                          </div>
                          <div class="separator bottom"></div>
                          <label><%= t('user_dashboard.customer_modal.postcode') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-map-marker"></i> </span>
                            <%= f.text_field :postcode,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().postcode' %>
                          </div>
                          <div class="separator bottom"></div>
                          <label><%= t('user_dashboard.customer_modal.country') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-globe"></i></span>
                            <%= f.text_field :country,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().country' %>
                          </div>
                          <div class="separator bottom"></div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <!-- Column -->
                    <div class="col-md-3">
                      <strong><%= t('user_dashboard.customer_modal.contact_person') %></strong>
                    </div>
                    <!-- // Column END -->
                    <!-- Column -->
                    <div class="col-md-9">
                      <div class="row">
                        <div class="col-md-6">
                          <label><%= t('user_dashboard.customer_modal.customer_name') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-user"></i></span>
                            <%= f.text_field :first_name,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().first_name' %>
                          </div>
                          <div class="separator bottom"></div>
                          <label><%= t('user_dashboard.customer_modal.phone') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-phone"></i></span>
                            <%= f.text_field :contact_phone,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().contact_phone' %>
                          </div>
                          <div class="separator bottom"></div>
                        </div>
                        <div class="col-md-6">
                          <label><%= t('user_dashboard.customer_modal.email') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
                            <%= f.text_field :contact_email,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().contact_email' %>
                          </div>
                          <div class="separator bottom"></div>
                          <label><%= t('user_dashboard.customer_modal.website') %></label>
                          <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-link"></i></span>
                            <%= f.text_field :contact_website,
                                             class: 'form-control',
                                             'data-bind' => 'value: customerSafe().contact_website' %>
                          </div>
                          <div class="separator bottom"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-1"></div>
                    <div class="col-md-10">
                      <div class="alert alert-success customer-saved-alert hide">
                        <%= t('user_dashboard.customer_modal.saved') %>
                      </div>
                      <div class="alert alert-success customer-deleted-alert hide">
                        <%= t('user_dashboard.customer_modal.deleted') %>
                      </div>
                      <div class="alert alert-warning customer-warning-alert hide">
                      </div>
                    </div>
                  </div>
                  <div class="separator top customer-form-bottom-buttons">
                    <button type="submit" class="btn btn-default btn-sm pull-right"
                            data-bind="click: saveCustomer">
                      <i class="fa fa-fw fa-check-square-o"></i>
                      <%= t('user_dashboard.save') %>
                    </button>

                    <!-- ko ifnot: $data.customerSafe().id -->
                    <button type="button" class="btn btn-default btn-sm"
                            data-bind="click: resetForm">
                      <i class="fa fa-fw fa-times"></i>
                      <%= t('user_dashboard.customer_modal.clear') %>
                    </button>
                    <!-- /ko -->

                    <!-- ko if: $data.customerSafe().id -->
                    <button type="button" class="btn btn-default btn-sm"
                            data-bind="click: deleteCustomer">
                      <i class="glyphicon glyphicon-trash"></i>
                      <%= t('user_dashboard.delete') %>
                    </button>
                    <!-- /ko -->

                  </div>
                <% end %>
              </div>


              <!-- Tab content -->
              <div class="tab-pane" id="account-ready-tasks-tab">
                <!-- Row -->
                <div class="row customer-tasks-container"
                     id="customer-ready-tasks-container"
                >
                  <div class="col-md-3">
                    <strong><%= t('user_dashboard.customer_modal.task_history') %></strong>
                  </div>
                  <br><br>
                  <div class="widget-body padding-none ">
                    <ul class="timeline-activity list-unstyled customer-tasks-list"
                        id="customer-ready-tasks-list"
                        data-bind="foreach: customerReadyTasks">
                      <li class="" data-bind="template: {name: 'customer_modal_task_list_item_template'}"></li>
                    </ul>
                  </div>
                  <!-- // Widget Body END -->

                </div>
                <!-- // Row END -->
                <div class="separator line bottom"></div>
                <div data-bind="template: {name:'customer_ready_task_note_form_template'}"></div>
              </div>
            </div>
            <!-- // Row END -->
          </div>
          <!-- // Tab content END -->
        </div>
      </div>
    </div>
    <!-- // Widget END -->
  </div>


</div> <!-- modal-body -->
</div> <!-- modal-content -->
</div> <!-- modal-dialog -->
